<main>
    <div class="shop-section">
        <section class="detail mb-5">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <div id="carouselExampleControls" class="carousel carousel-dark slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src={{detail.[product_images.image_url]}} alt={{detail.name}}>
                                </div>
                                {{#each image }}
                                <div class="carousel-item">
                                    <img src={{image_url}} alt={{detail.name}}>
                                </div>
                                {{/each}}
                            </div>
                            <button class="carousel-control-prev" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>

                    </div>
                    <div class="offset-lg-1 col-lg-5">
                        <div class="text-detail">
                            <h3 class="name fw-bold my-2">{{detail.name}}</h3>
                            <h4 class="price fw-bold my-2">{{currencyFormat detail.price}}</h4>
                            <p><span>Category: </span>{{detail.[category.name]}}</p>
                            <p><span>Availability: </span>In Stock</p>
                            <p class="description my-5 py-3">{{detail.description}}</p>
                            <div class="product-count mb-5 d-flex align-items-center">
                                <label for="qty" class="qty me-3">Quantity</label>
                                <div class="d-flex border border-1">
                                    <button
                                        onclick="const result = document.getElementById('qty'); if(!isNaN(result.value) && result.value>0) result.value--;"><i
                                            class="fas fa-minus"></i></button>
                                    <input type="text" class="text-center border border-1" id="qty" value="0"
                                        class="border border-1">
                                    <button onclick="const result = document.getElementById('qty'); result.value++;"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                                <a href="#" class="rounded-pill ms-3">Add to Cart</a>
                            </div>
                            <div class="favorite">
                                <a href="#"><i class="far fa-gem mx-2"></i></a>
                                <a href="#"><i class="far fa-heart"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="rating mb-5">
            <div class="container">
                <ul class="nav nav-tabs justify-content-center" role="tablist">
                    <li class="nav-item">
                        <a href="#description" class="nav-link m-1 mx-lg-3 rounded-pill active" id="description-tab"
                            data-bs-toggle="tab" aria-controls="description" aria-selected="true">Description</a>
                    </li>
                    <li class="nav-item">
                        <a href="#instock" class="nav-link m-1 mx-lg-3 rounded-pill" id="instock-tab"
                            data-bs-toggle="tab" aria-controls="instock">In Stock</a>
                    </li>
                    <li class="nav-item">
                        <a href="#review" class="nav-link m-1 mx-lg-3 rounded-pill" id="review-tab" data-bs-toggle="tab"
                            aria-controls="review">Review</a>
                    </li>
                </ul>
                <div class="tab-content border border-1">
                    <div class="tab-pane active" id="description" role="tabpanel" aria-labelledby="description-tab">
                        <p class="mb-2">{{detail.description}}</p>
                    </div>
                    <div class="tab-pane" id="instock" role="tabpanel" aria-labelledby="instock-tab">
                        <table class="table">
                            <thead>
                                <td>Size</td>
                                <td>Quantity</td>
                            </thead>
                            <tbody>
                                {{#each size}}
                                <tr>
                                    <td>{{size}}</td>
                                    <td>{{quantity}}</td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane" id="review" role="tabpanel" aria-labelledby="review-tab">
                        <div class="row  justify-content-center">
                            <div class="col-lg-8">
                                <div class="row mb-3">
                                    <div class="col-md-6 overall text-center mb-2">
                                        <h4 class="fw-bolder">Overall</h4>
                                        <h1>{{detail.rate}}</h1>
                                        <p>(03 Reviews)</p>
                                    </div>
                                    <div class="col-md-6 rate">
                                        <h5 class="mb-2 col-12 text-center">Base on 3 Reviews</h5>
                                        <ul>
                                            <li>
                                                5 Star
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                01
                                            </li>
                                            <li>
                                                4 Star
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="far fa-star"></i>
                                                01
                                            </li>
                                            <li>
                                                3 Star
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                01
                                            </li>
                                            <li>
                                                2 Star
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                01
                                            </li>
                                            <li>
                                                1 Star
                                                <i class="fas fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                                01
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="add-rating my-3">
                                    <h2 class="mb-2">Add a review</h2>
                                    <form class="review-form">
                                        <input type="hidden" value="{{detail.id}}" />
                                        <div class="form-group mb-3">
                                            <label class="form-label" for="rate-form">Your Rating:</label>                                            
                                            <input class="form-control" type="number" min="1" max="5" value="5"
                                                name="rate" id="rate-form"/>
                                        </div>
                                        <div class="form-group mb-3">
                                            <label class="form-label" for="content-form">Your Review:</label>                                            
                                            <input class="form-control" type="text" placeholder="Your review"
                                                name="content"/>
                                        </div>
                                        <input class="btn mb-2 text-uppercase p-2" type="submit"
                                            id="submit-review" value="Submit now" />
                                    </form>
                                </div>
                                <div id="review-list">
                                </div>
                                <ul class="pagination justify-content-center">
                                </ul>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="top-seller my-5">
            <div class="container">
                <div class="homepage-intro mb-5">
                    <p class="mb-1">Related Item in the market</p>
                    <h2 class="section-title fw-bold mb-2">Related <span class="section-title-style pb-2">Product</span>
                    </h2>
                </div>
                <div class="row">
                    {{#each related}}
                    <div class="col-md-6 col-lg-4">
                        <div class="border border-1 px-3 m-2">
                            <div class="product d-flex py-3">
                                <a href="#"><img src={{'product_images.image_url'}} alt="product" class="rounded"></a>
                                <div class="detail ms-3">
                                    <a href="/product/{{id}}" class="fs-5">{{name}}</a>
                                    <div class="price">{{currencyFormat price}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
        </section>
    </div>
</main>